<header class="site-header">
  {%- assign default_paths = site.pages | map: "path" -%}
  {%- assign page_paths = site.header_pages | default: default_paths -%}
  {%- assign titles_size = site.pages | map: 'title' | join: '' | size -%}
  <a class="site-title" rel="author" href="{{ "/" | relative_url }}">EBD</a>

  {%- if titles_size > 0 -%}
  <nav class="site-nav">

    {%- assign exercises = site.exercises -%}
    <div class="item">
      <div class="dropdown">
        <button class="dropbtn page-link">Exercises</button>
        <div class="dropdown-content">
          {%- for exercise in exercises -%}
          {%- if exercise.publish -%}
          <a href="{{ exercise.url | relative_url }}">{{ exercise.title | escape }}</a>
          {%- endif -%}
          {%- endfor -%}
        </div>
      </div>
    </div>

    {%- for path in page_paths -%}
    {%- assign my_page = site.pages | where: "path", path | first -%}
    {%- if my_page.title and my_page.title != "index" -%}
    <div class="item">
      <a class="page-link" href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a>
    </div>
    {%- endif -%}
    {%- endfor -%}
  </nav>
  {%- endif -%}
</header>